{"version":3,"sources":["app.ts"],"names":["TodoApp","TodoApp.constructor","TodoApp.stopEditing","TodoApp.cancelEditingTodo","TodoApp.updateEditingTodo","TodoApp.editTodo","TodoApp.removeCompleted","TodoApp.toggleCompletion","TodoApp.remove","TodoApp.addTodo"],"mappings":"AAAA,4CAA4C;;;;;;;;;;;;AAE5C,yBAAsD,mBAAmB,CAAC,CAAA;AAC1E,sBAA8B,kBAAkB,CAAC,CAAA;AAEjD,IAAM,OAAO,GAAG,EAAE,CAAC;AACnB,IAAM,SAAS,GAAG,EAAE,CAAC;AAErB;IAgDEA;QACEC,IAAIA,CAACA,SAASA,GAAGA,IAAIA,iBAASA,EAAEA,CAACA;IACnCA,CAACA;IACDD,6BAAWA,GAAXA,UAAYA,IAAUA,EAAEA,WAAWA;QACjCE,IAAIA,CAACA,QAAQA,CAACA,WAAWA,CAACA,KAAKA,CAACA,CAACA;QACjCA,IAAIA,CAACA,OAAOA,GAAGA,KAAKA,CAACA;IACvBA,CAACA;IACDF,mCAAiBA,GAAjBA,UAAkBA,IAAUA,IAAIG,IAAIA,CAACA,OAAOA,GAAGA,KAAKA,CAACA,CAACA,CAACA;IACvDH,mCAAiBA,GAAjBA,UAAkBA,WAAWA,EAAEA,IAAUA;QACvCI,WAAWA,GAAGA,WAAWA,CAACA,KAAKA,CAACA,IAAIA,EAAEA,CAACA;QACvCA,IAAIA,CAACA,OAAOA,GAAGA,KAAKA,CAACA;QACrBA,EAAEA,CAACA,CAACA,WAAWA,CAACA,MAAMA,KAAKA,CAACA,CAACA,CAACA,CAACA;YAC7BA,MAAMA,CAACA,IAAIA,CAACA,SAASA,CAACA,MAAMA,CAACA,IAAIA,CAACA,GAAGA,CAACA,CAACA;QACzCA,CAACA;QACDA,IAAIA,CAACA,QAAQA,CAACA,WAAWA,CAACA,CAACA;IAE7BA,CAACA;IACDJ,0BAAQA,GAARA,UAASA,IAAUA;QACjBK,IAAIA,CAACA,OAAOA,GAAGA,IAAIA,CAACA;IACtBA,CAACA;IACDL,iCAAeA,GAAfA;QACEM,IAAIA,CAACA,SAASA,CAACA,eAAeA,EAAEA,CAACA;IACnCA,CAACA;IACDN,kCAAgBA,GAAhBA,UAAiBA,GAAWA;QAC1BO,IAAIA,CAACA,SAASA,CAACA,gBAAgBA,CAACA,GAAGA,CAACA,CAACA;IACvCA,CAACA;IACDP,wBAAMA,GAANA,UAAOA,GAAWA;QAChBQ,IAAIA,CAACA,SAASA,CAACA,MAAMA,CAACA,GAAGA,CAACA,CAACA;IAC7BA,CAACA;IACDR,yBAAOA,GAAPA,UAAQA,MAAMA,EAAEA,OAAOA;QACrBS,EAAEA,CAACA,CAACA,MAAMA,CAACA,KAAKA,KAAKA,SAASA,IAAIA,OAAOA,CAACA,KAAKA,CAACA,IAAIA,EAAEA,CAACA,MAAMA,CAACA,CAACA,CAACA;YAC9DA,IAAIA,CAACA,SAASA,CAACA,GAAGA,CAACA,OAAOA,CAACA,KAAKA,CAACA,CAACA;YAClCA,OAAOA,CAACA,KAAKA,GAAGA,EAAEA,CAACA;QACrBA,CAACA;IACHA,CAACA;IAlFHT;QAACA,oBAASA,CAACA;YACTA,QAAQA,EAAEA,UAAUA;SACrBA,CAACA;QACDA,eAAIA,CAACA;YACJA,UAAUA,EAAEA,CAACA,eAAIA,EAAEA,gBAAKA,CAACA;YACzBA,QAAQA,EAAEA,y2DAsCTA;SACFA,CAACA;;gBAuCDA;IAADA,cAACA;AAADA,CAnFA,AAmFCA,IAAA;AAED,oBAAS,CAAC,OAAO,CAAC,CAAC","file":"app.js","sourcesContent":["/// <reference path=\"../typings/tsd.d.ts\" />\n\nimport {Component, View, bootstrap, NgIf, NgFor} from 'angular2/angular2';\nimport {TodoStore, Todo} from './services/store';\n\nconst ESC_KEY = 27;\nconst ENTER_KEY = 13;\n\n@Component({\n  selector: 'todo-app'\n})\n@View({\n  directives: [NgIf, NgFor],\n  template: `\n    <section class=\"todoapp\">\n      <header class=\"header\">\n        <h1>todos</h1>\n        <input class=\"new-todo\" type=\"text\" placeholder=\"What needs to be done?\" autofocus\n          #newtodo\n          (keyup)=\"addTodo($event, newtodo)\">\n      </header>\n      <section class=\"main\" *ng-if=\"todoStore.todos.length > 0\">\n        <input class=\"toggle-all\" type=\"checkbox\"\n          *ng-if=\"todoStore.todos.length\"\n          #toggleall\n          [checked]=\"todoStore.allCompleted()\"\n          (click)=\"todoStore.setAllTo(toggleall)\">\n        <ul class=\"todo-list\">\n          <li *ng-for=\"#todo of todoStore.todos\" [class.completed]=\"todo.completed\" [class.editing]=\"todo.editing\">\n            <div class=\"view\">\n              <input class=\"toggle\" type=\"checkbox\"\n                (click)=\"toggleCompletion(todo.uid)\"\n                [checked]=\"todo.completed\">\n              <label (dbclick)=\"editTodo(todo)\">{{todo.title}}</label>\n              <button class=\"destroy\" (click)=\"remove(todo.uid)\"></button>\n            </div>\n            <input class=\"edit\" type=\"text\"\n              *ng-if=\"todo.editing\"\n              [value]=\"todo.title\"\n              #editedtodo\n              (blur)=\"stopEditing(todo, editedtodo)\"\n              (keyup.enter)=\"updateEditingTodo(editedtodo, todo)\"\n              (keyup.escape)=\"cancelEditingTodo(todo)\">\n          </li>\n        </ul>\n      </section>\n      <footer class=\"footer\" *ng-if=\"todoStore.todos.length > 0\">\n        <span class=\"todo-count\"><strong>{{todoStore.getRemaining().length}}</strong>{{todoStore.getRemaining().length == 1 ? 'item' : 'items'}} left</span>\n        <button class=\"clear-completed\" *ng-if=\"todoStore.getCompleted().length > 0\" (click)=\"removeCompleted()\">Clear completed</button>\n      </footer>\n    </section>\n  `\n})\n\nclass TodoApp {\n  todoStore: TodoStore;\n  constructor() {\n    this.todoStore = new TodoStore();\n  }\n  stopEditing(todo: Todo, editedTitle) {\n    todo.setTitle(editedTitle.value);\n    todo.editing = false;\n  }\n  cancelEditingTodo(todo: Todo) { todo.editing = false; }\n  updateEditingTodo(editedTitle, todo: Todo) {\n    editedTitle = editedTitle.value.trim();\n    todo.editing = false;\n    if (editedTitle.length === 0) {\n      return this.todoStore.remove(todo.uid);\n    }\n    todo.setTitle(editedTitle);\n    // TODO todoupdate storage\n  }\n  editTodo(todo: Todo) {\n    todo.editing = true;\n  }\n  removeCompleted() {\n    this.todoStore.removeCompleted();\n  }\n  toggleCompletion(uid: String) {\n    this.todoStore.toggleCompletion(uid);\n  }\n  remove(uid: String) {\n    this.todoStore.remove(uid);\n  }\n  addTodo($event, newtodo) {\n    if ($event.which === ENTER_KEY && newtodo.value.trim().length) {\n      this.todoStore.add(newtodo.value);\n      newtodo.value = '';\n    }\n  }\n}\n\nbootstrap(TodoApp);\n"],"sourceRoot":"/source/"}